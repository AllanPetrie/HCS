<!DOCTYPE HTML>
<html>

<head>
    <script>

        function validation() {
            
            if (coordssofar.length < 3) {
                alert("You haven't selected enough points on the image.")
            } else {
                sessionStorage.setItem('points', JSON.stringify(coordssofar));
                window.location = 'login';
            }

        }

        function reset() {
            coordssofar = [];
            clicked_number = 0;
        }

        function registerChangeImage(){
            src = sessionStorage.getItem("image");
            console.log(src);
            image = document.getElementById("image2");
            image.src = src;
        }

    </script>
    <meta charset="utf-8" />
    <title>Pick an Image</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
     <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
     <script src="{{url_for('static', filename='script.js')}}"></script>
    
</head>
<body onload=registerChangeImage()>
    <h1>This is a title</h1>
    <div class=imageContainer>
        <div class=row>
            <img class=image onclick="" src="../static/images/imagea.gif" id="image2" alt=":-(">  
        </div> 
    </div>

    <div>
        <button onclick="validation()">Submit Password</button>
    </div>

    <div>
        <button onclick="reset()">Reset attempt</button>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</body>
</html>


<script>$(document).ready(function () {
        coordssofar = [];
        clicks_so_far = 0;
        click_results = [];
        max_clicks = 5


        $("#image2").on("click", function (event) {
            var x = event.pageX - this.offsetLeft;
            var y = event.pageY - this.offsetTop;
            storeCoordinate(x, y);

        });

        function storeCoordinate(xVal, yVal) {
            if (coordssofar.length > 5) {
                alert("You've already selected 5 points. Please either reset your attempt or submit.");
            } else {
                coordssofar.push({ x: xVal, y: yVal });
            }
        }
    })
</script>
